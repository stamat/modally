/* modally v1.1.0 | undefined | MIT License */
(()=>{function e(e){if(/^\s*null\s*$/.test(e))return null;const t=function(e){if(/^\s*(true|false)\s*$/i.test(e))return"true"===e}(e);return void 0!==t?t:function(e){return/^\s*\d+\s*$/.test(e)?parseInt(e):/^\s*[\d.]+\s*$/.test(e)?parseFloat(e):void 0}(e)||function(e){if(/^\s*\[.*\]\s*$/.test(e))try{return JSON.parse(e)}catch(e){}}(e)||function(e){if(/^\s*\{.*\}\s*$/.test(e))try{return JSON.parse(e)}catch(e){}}(e)||function(e){if(/^\s*\/.*\/g?i?\s*$/.test(e))try{return new RegExp(e)}catch(e){}}(e)||e}function t(e,t,i=!1){if(e&&t)for(let s in t)i&&(s=s.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))),e.style[s]=t[s]}function i(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}var s=class{constructor(s,o,l={},n){this.id=s,this.element=o,this.modallyInstance=n;const a=this.options.landing instanceof HTMLElement?this.options.landing:document.querySelector(this.options.landing);if(!a)return;if(this.videoRegEx={},this.videoRegEx.YOUTUBE=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,this.videoRegEx.VIMEO=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,this.videoRegEx.VIDEO=/(.*\/[^\/]+\.mp4|ogg|ogv|ogm|webm|avi)\s?$/i,this.scrollWidth=function(){const e=document.createElement("div");t(e,{width:"100px",height:"100px",position:"absolute",left:"-9999px",zIndex:"0",overflowX:"hidden",overflowY:"scroll"}),document.body.appendChild(e);const i=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),i}(),this.options={landing:"body","max-width":"none",classes:"","vertical-align":"middle","close-parent":!1,"close-other":!1,image:!1,video:!1,autoplay:!0,template:'<div class="modally-wrap"><div class="modally-table"><div class="modally-cell"><div class="modally-underlay modally-close"></div><div class="modally" role="dialog" aria-modal="true"><button tabindex="1" class="modally-close modally-close-button">&times;</button><div class="modally-content"></div></div></div></div></div>',"in-duration":"normal","in-easing":"swing","out-duration":"normal","out-easing":"swing","in-css":null,"out-css":null},function(e,t){for(const i in t)e[i]=t[i]}(this.options,l),this.element)for(const t in this.options)this.element.hasAttribute(`modally-${t}`)&&(this.options[t]=e(this.element.getAttribute(`modally-${t}`)));this.template=i(this.options.template),this.template.setAttribute("modally-id",this.id),this.element.setAttribute("modally-id",this.id);const d=this.template.querySelector(".modally");d&&t(d,{maxWidth:this.options["max-width"]});const h=this.template.querySelector(".modally-cell");if(h&&t(h,{verticalAlign:this.options["vertical-align"]}),this.template.classList.add(this.options.classes),this.options.video)this.setupVideoLanding();else if(this.options.image)this.setupImageLanding();else if(this.element){const e=((c=this.element)&&c.parentNode&&c.parentNode.removeChild(c),c);this.template.querySelector(".modally-content").appendChild(e)}var c;this.element&&this.element.classList.contains("modally-init")&&(this.element.classList.remove("modally-init"),this.modallyInstance.open(this)),this.template.querySelectorAll(".modally-close").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.modallyInstance.close(this)}))})),this.template.classList.add(s),a.appendChild(this.template),this.zIndex=window.getComputedStyle(this.template).zIndex}setupVideoLanding(){const e=i('<svg aria-hidden="true" style="width: 100%; height: auto; display: block;" width="1920" height="1080"></svg>'),t=i(`\n      <iframe hidden class="youtube embed-template template" data-src="https://www.youtube.com/embed/{ID}?${this.options.autoplay?"autoplay=1&amp;":""}autohide=1&amp;fs=1&amp;rel=0&amp;hd=1&amp;wmode=opaque&amp;enablejsapi=1" type="text/html" width="1920" height="1080" allow="autoplay" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto"></iframe>\n      <iframe hidden class="vimeo embed-template template" title="vimeo-player" data-src="https://player.vimeo.com/video/{ID}?${this.options.autoplay?"autoplay=1":""}" type="text/html" width="1920" height="1080" allow="autoplay; allowfullscreen" rameborder="0" allowfullscreen=""></iframe>\n      <video hidden height="1920" width="1080" class="video embed-template template" data-src="{ID}" controls playsinline${this.options.autoplay?" autoplay":""}></video>\n    `),s=i('<div class="iframe-landing"></div>');s.appendChild(e),this.template.querySelector(".modally-content").appendChild(s),this.template.appendChild(t),this.template.classList.add("video-embed")}setupImageLanding(){const e=i('<div class="image-landing"><img style="width: 100%; height: auto;" decoding="async" loading="lazy" alt=""></div>');this.template.querySelector(".modally-content").appendChild(e),this.template.classList.add("image-embed")}open(e){}},o=class{constructor(){this.index={},this.opened=[],document.addEventListener("click",(e=>{const t=e.target;if(!t.matches('[target="_modal"]:not([disabled]), [target="_modal:open"]:not([disabled]), [target="_modal:close"]:not([disabled])'))return;const i=t.getAttribute("href");if(i&&i.length&&"#"!==i){const s=this.get(i.replace("#",""));if(s){if(e.preventDefault(),t.matches('[target="_modal:close"]'))return this.close(s);this.open(s)}}})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.close()}))}modallyHashCheck(){if(""!==window.location.hash&&"#"!==window.location.hash){const e=window.location.hash.replace("#","");this.index.hasOwnProperty(e)&&this.open(e)}}add(e,t,i={}){const o="string"==typeof t?document.querySelector(t):t;o?this.index[e]=new s(e,o,i,this):console.error(`Modally: Element with selector "${t}" not found`)}get(e){return this.index[e]}open(e,i){const o=e instanceof s?e:this.get(e);o&&(o.open(i),this.opened.push(o),t(o.template,{zIndex:o.zIndex+this.opened.length}))}close(e,i){!e&&this.opened.length&&(e=this.opened[this.opened.length-1]);const o=e instanceof s?e:this.get(e);o&&(o.close(i),this.opened.pop(),t(o.template,{zIndex:o.zIndex}))}initHashCheck(){this.modallyHashCheck(),window.addEventListener("hashchange",(()=>{this.modallyHashCheck()}))}};window.Modally||(window.Modally=o)})();